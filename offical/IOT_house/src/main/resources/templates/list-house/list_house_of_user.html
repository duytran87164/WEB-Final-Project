<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="Dashboard">
<meta name="keyword"
	content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">

<title>MOOSE HOME</title>

<!-- Bootstrap core CSS -->
<link href="/assets/css/bootstrap.css" rel="stylesheet">
<!--external css-->
<link href="/assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css"
	href="/assets/css/zabuto_calendar.css">
<link rel="stylesheet" type="text/css"
	href="/assets/js/gritter/css/jquery.gritter.css" />
<link rel="stylesheet" type="text/css"
	href="/assets/lineicons/style.css">

<!-- Custom styles for this template -->
<link href="/assets/css/style.css" rel="stylesheet">
<link href="/assets/css/style-responsive.css" rel="stylesheet">
<link href="/assets/css/iot_control.css" rel="stylesheet">

<script src="/assets/js/chart-master/Chart.js"></script>

<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

	<section id="container">
		<!-- **********************************************************************************************************************************************************
      TOP BAR CONTENT & NOTIFICATIONS
      *********************************************************************************************************************************************************** -->
		<!--header start-->
		<div th:insert="~{fragments/user/header}"></div>
		<!--header end-->

		<!-- **********************************************************************************************************************************************************
      MAIN SIDEBAR MENU
      *********************************************************************************************************************************************************** -->
		<!--sidebar start-->
				
		<!--sidebar end-->

		<!-- **********************************************************************************************************************************************************
      MAIN CONTENT
      *********************************************************************************************************************************************************** -->
		<!--main content start-->
		<section id="main-content">
			<section class="wrapper site-min-heigh">

				<div class="row mt">
					<div class="col-md-12">
						<h4>
							<i class="fa fa-angle-right"></i> User House
						</h4>
								
						<div class="container mt">
							<div class="content">
								    <div class="row justify-content-center" th:each="house, STT : ${houses}">
								        <div class="col-md-6" style="flex: 0 0 auto;">
								            <div class="card_iot">
								                <div class="card_header">
								                    <!-- ID House -->
								                    <h5 class="card-title">ID House:<span th:text="${house.idHouse}"></span></h5>
								                    <!-- Trạng thái -->
								                    <span th:class="${house.status == 1 ? 'btn btn-round btn-success' : 'btn btn-round btn-danger'}"
													th:text="${house.status == 1 ? 'Active' : 'Lock'}"></span>
								                </div>
								                <div class="card-body">
								                    <!-- Mô tả -->
								                    <p class="card-text">Description: <span th:text="${house.description}"></span></p>
								                    <br>
								                    <!-- Nút hành động -->
								                    <a  th:if="${house.status}" 
								                    th:href="@{/user/monitor/{id}(id=${house.idHouse})}" class="btn btn-info btn-sm">
								                        <i class="fa fa-desktop"></i> Monitor
								                    </a>
								                    <a  th:if="!${house.status}" >
								                         House is locked! Can't monitor!
								                    </a>
								                    <br>
								                    <br>
								                    <a th:href="@{/user/equipments/{id}(id=${house.idHouse})}" class="btn btn-info btn-sm">
								                        <i class="fa fa-cogs"></i> List equipment
								                    </a>
								                </div>
								            </div>
								        </div>
								    </div>
								</div>
							</div>
						</div>
						<!-- /content-panel -->
					</div>
					<!-- /col-md-12 -->	
				<!-- /row -->
			</section>
		</section>
		
		<!--main content end-->
		<!--footer start-->
		<div th:insert="~{fragments/user/footer}"></div>
		<!--footer end-->
	</section>

	<!-- js placed at the end of the document so the pages load faster -->
	<script src="/assets/js/jquery.js"></script>
	<script src="/assets/js/jquery-1.8.3.min.js"></script>
	<script src="/assets/js/bootstrap.min.js"></script>
	<script class="include" type="text/javascript"
		src="/assets/js/jquery.dcjqaccordion.2.7.js"></script>
	<script src="/assets/js/jquery.scrollTo.min.js"></script>
	<script src="/assets/js/jquery.nicescroll.js" type="text/javascript"></script>
	<script src="/assets/js/jquery.sparkline.js"></script>


	<!--common script for all pages-->
	<script src="/assets/js/common-scripts.js"></script>

	<script type="text/javascript"
		src="/assets/js/gritter/js/jquery.gritter.js"></script>
	<script type="text/javascript" src="/assets/js/gritter-conf.js"></script>

	<!--script for this page-->
	<script src="/assets/js/sparkline-chart.js"></script>
	<script src="/assets/js/zabuto_calendar.js"></script>

	<!-- <script type="text/javascript">
        $(document).ready(function () {
        var unique_id = $.gritter.add({
            // (string | mandatory) the heading of the notification
            title: 'Welcome to Dashgum!',
            // (string | mandatory) the text inside the notification
            text: 'Hover me to enable the Close Button. You can hide the left sidebar clicking on the button next to the logo. Free version for <a href="http://blacktie.co" target="_blank" style="color:#ffd777">BlackTie.co</a>.',
            // (string | optional) the image to display on the left
            image: '/assets/img/ui-sam.jpg',
            // (bool | optional) if you want it to fade out on its own or just sit there
            sticky: true,
            // (int | optional) the time you want it to be alive for before fading out
            time: '',
            // (string | optional) the class name you want to apply to that specific message
            class_name: 'my-sticky-class'
        });

        return false;
        });
	</script> -->

	<script type="application/javascript">
		
		
        $(document).ready(function () {
            // Initialize and hide popover
            $("#date-popover").popover({html: true, trigger: "manual"});
            $("#date-popover").hide();
    
            $("#date-popover").click(function (e) {
                $(this).hide();
            });
    
            // Initialize calendar with combined features
            $("#my-calendar").zabuto_calendar({
                action: function () {
                    return myDateFunction(this.id, false);
                },
                action_nav: function () {
                    return myNavFunction(this.id);
                },
                ajax: {
                    url: "show_data.php?action=1",
                    modal: true
                },
                legend: [
                    {type: "text", label: "Special event", badge: "00"},
                    {type: "block", label: "Regular event"}
                ],
                today: true,           // Highlight today's date
                show_previous: true,   // Enable "previous month" navigation
                show_next: true        // Enable "next month" navigation
            });
        });
    
        function myNavFunction(id) {
            $("#date-popover").hide();
            var nav = $("#" + id).data("navigation");
            var to = $("#" + id).data("to");
            console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
        }
    
	
	</script>


</body>
</html>
